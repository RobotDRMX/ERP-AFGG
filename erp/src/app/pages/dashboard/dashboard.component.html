<div class="mb-6">
    <h2 class="text-2xl font-bold text-color">Panel de Control</h2>
    <p class="text-muted">Resumen general de las operaciones del sistema.</p>
</div>

<div class="grid-auto-fit mb-8">
    <div class="stat-card">
        <div class="flex-center border-round-md mb-3 stat-icon-box bg-primary-soft text-primary">
            <i class="pi pi-box"></i>
        </div>
        <div class="text-4xl font-black text-color">{{ batchService.totalCount() }}</div>
        <div class="text-xs text-muted uppercase font-bold mt-1">Lotes Totales</div>
    </div>

    <div class="stat-card">
        <div class="flex-center border-round-md mb-3 stat-icon-box bg-warning-soft text-warning">
            <i class="pi pi-sync"></i>
        </div>
        <div class="text-4xl font-black text-color">{{ batchService.pendingCount() }}</div>
        <div class="text-xs text-muted uppercase font-bold mt-1">Lotes Pendientes</div>
    </div>

    <div class="stat-card">
        <div class="flex-center border-round-md mb-3 stat-icon-box bg-success-soft text-success">
            <i class="pi pi-check-circle"></i>
        </div>
        <div class="text-4xl font-black text-color">{{ batchService.completedCount() }}</div>
        <div class="text-xs text-muted uppercase font-bold mt-1">Lotes Completados</div>
    </div>

    <div class="stat-card">
        <div class="flex-center border-round-md mb-3 stat-icon-box bg-danger-soft text-danger">
            <i class="pi pi-times-circle"></i>
        </div>
        <div class="text-4xl font-black text-color">{{ batchService.failedCount() }}</div>
        <div class="text-xs text-muted uppercase font-bold mt-1">Lotes Fallidos</div>
    </div>
</div>

<div class="grid-auto-fit">
    <p-card header="Actividad Reciente" class="h-full">
        <div class="flex-col gap-4">
            @for (batch of batchService.batches(); track batch.id) {
            <div class="flex-between py-2 border-b last:border-0 border-all border-none border-b-soft">
                <div class="flex-col">
                    <span class="font-medium text-color">{{ batch.description }}</span>
                    <span class="text-xs text-muted">{{ batch.createdAt | date:'short' }}</span>
                </div>
                <p-tag [value]="batch.status.toUpperCase()"
                    [severity]="batch.status === 'completed' ? 'success' : (batch.status === 'failed' ? 'danger' : 'warn')" />
            </div>
            }
        </div>
    </p-card>

    <p-card header="Atajos" class="h-full">
        <div class="flex-col gap-2">
            <p-button label="Nuevo Usuario" icon="pi pi-user-plus" severity="secondary" [text]="true"
                styleClass="w-full text-left" />
            <p-button label="Exportar Reporte" icon="pi pi-file-export" severity="secondary" [text]="true"
                styleClass="w-full text-left" />
            <p-button label="ConfiguraciÃ³n" icon="pi pi-cog" severity="secondary" [text]="true"
                styleClass="w-full text-left" />
        </div>
    </p-card>
</div>